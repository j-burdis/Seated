<div class="cinema-cards">
  <% cinemas.each do |cinema|%>
    <%= link_to cinema_path(cinema) do %>
      <div class="cinema-card">

        <div class=cinema-card-location>
          <h1><%= cinema.name %></h1>
          <h5><%= cinema.address %></h5>
        </div>

        <div class="cinema-card-image">
          <img src="<%= cinema.image_url %>" alt="<%= cinema.name%>" width=300px>
        </div>

        <div class="cinema-card-extras">
          <p><%= cinema.description %></p>
          <%# <p> Average rating:  %>
            <%#= cinema.average_rating.present? ? cinema.average_rating.round(1) : 'No reviews yet' </p> %>

          <div class="homepage-average-rating">
            <% if cinema.average_rating.present? %>
              <% rounded_rating = cinema.average_rating.floor %>
              <% partial_rating = (cinema.average_rating % 1).round(1) %>

              <% # Render the full rating images as red rating images %>
              <% rounded_rating.times do %>
                <%= image_tag 'seated-emoji.png', alt: 'Red Rating Emoji', class: 'red-rating-image' %>
              <% end %>

              <% # Render the half image as a half red rating image %>
              <% if partial_rating >= 0.5 %>
                <%= image_tag 'seated-emoji.png', alt: 'Half Red Rating Emoji', class: 'half-red-rating-image' %>
              <% end %>

              <span class="average-rating-number">(<%= cinema.average_rating.round(1) %>)</span>
            <% else %>
              <span class="average-rating-number">No reviews yet</span>
            <% end %>
          </div>

        </div>

      </div>
    <% end %>
  <% end %>

</div>
