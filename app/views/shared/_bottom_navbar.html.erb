<!-- Bottom Navbar -->
<div style="height: 63px;"></div>

<nav class="bottom_navbar navbar-light bg-light navbar-expand fixed-bottom">
  <div class="container-fluid d-flex justify-content-around">

    <%# Home  button %>
    <%= link_to root_path, class: "bottom_navbar-link #{'active' if current_page?(root_path)}" do %>
      <i class="fa-solid fa-house"></i>
    <% end %>

    <%#  Search button %>
    <%= link_to cinemas_path, class: "bottom_navbar-link #{'active' if current_page?(cinemas_path) || current_page?(map_path) || (params[:controller] == 'cinemas' && params[:action] == 'show')}" do %>
      <i class="fas fa-search"></i>
    <% end %>

    <%# Favourites button %>
    <%= link_to favourites_path, class: "bottom_navbar-link #{'active' if current_page?(favourites_path)}" do %>
      <i class="fas fa-star"></i>
    <% end %>

    <%# Map button%>
    <%#= link_to map_path, class: "bottom_navbar-link #{'active' if current_page?(map_path)}" do %>
      <%# <i class="fa-solid fa-map"></i> %>
    <%# end %>

    <%# Notifications button %>
    <%= link_to notifications_path, class: "bottom_navbar-link position-relative #{'active' if current_page?(notifications_path)}" do %>
      <i class="fas fa-bell"></i>
      <% if current_user.notifications.where(read: false).any? %>
        <span class="notification-dot"><i class="fa-solid fa-circle"></i></span>
      <% end %>
    <% end %>

    <%#  Profile buton %>
    <%= link_to profile_path, class: "bottom_navbar-link #{'active' if current_page?(profile_path) && !current_user.profile_picture.attached?}" do %>
      <% if current_user.profile_picture.attached? %>
        <%= cl_image_tag current_user.profile_picture.key, alt: "Profile picture", class: "bottom_navbar-profile-pic" %>
      <% else %>
        <i class="fas fa-user"></i>
      <% end %>
    <% end %>


  </div>
</nav>
